(()=>{"use strict";({481:function(){var e=this&&this.__awaiter||function(e,t,n,o){return new(n||(n=Promise))((function(i,s){function c(e){try{a(o.next(e))}catch(e){s(e)}}function r(e){try{a(o.throw(e))}catch(e){s(e)}}function a(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(c,r)}a((o=o.apply(e,t||[])).next())}))};let t={},n="";chrome.runtime.onMessage.addListener(((o,i,s)=>{"typeMessage"===o.action?(function(e){const t=document.querySelector('input[type="text"], textarea'),o=document.querySelector('div[contenteditable="true"]');if(o){n=e,o.innerHTML=e,o.focus();const t=new Event("input",{bubbles:!0});o.dispatchEvent(t);const i=new KeyboardEvent("keydown",{bubbles:!0,cancelable:!0,key:"Enter",code:"Enter",keyCode:13});o.dispatchEvent(i)}else if(t){n=e,t.focus(),t.value=e;const o=new Event("input",{bubbles:!0});t.dispatchEvent(o);const i=new KeyboardEvent("keydown",{bubbles:!0,cancelable:!0,key:"Enter",code:"Enter",keyCode:13});t.dispatchEvent(i)}else console.error("Input field or rich text editor not found.")}(o.message),function(o,i=2e4){e(this,void 0,void 0,(function*(){const s=Date.now(),c=window.location.href,r=new URL(c).origin;console.log(r);let a="";switch(r){case"https://chatgpt.com":a="div.agent-turn";break;case"https://claude.ai":a="div.font-claude-message";break;case"https://gemini.google.com":a="message-content.model-response-text";break;default:throw new Error("Invalid website specified")}const l=Array.from(document.querySelectorAll(a));let d="";const u=()=>e(this,void 0,void 0,(function*(){var e;const c=Date.now(),r=Array.from(document.querySelectorAll(a)).filter((e=>{var t;return!(null===(t=e.textContent)||void 0===t?void 0:t.includes(n))&&!l.includes(e)}));if(r.length>0){const n=(null===(e=r[r.length-1].textContent)||void 0===e?void 0:e.trim())||"";n.length>d.length?(d=n,yield new Promise((e=>setTimeout(e,1e3))),yield u()):(console.log("NNNNNNNNNNNNN- ",d),d&&(t[o]=d))}else c-s<i?(yield new Promise((e=>setTimeout(e,1e3))),yield u()):console.error("Response not found within the max wait time.")}));yield new Promise((e=>setTimeout(e,5e3))),yield u()}))}(o.message),s({status:"Message typed and waiting for response"})):console.error("Unknown action:",o.action)}))}})[481]()})();