(()=>{"use strict";({481:function(){var e=this&&this.__awaiter||function(e,t,n,o){return new(n||(n=Promise))((function(i,s){function r(e){try{l(o.next(e))}catch(e){s(e)}}function c(e){try{l(o.throw(e))}catch(e){s(e)}}function l(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(r,c)}l((o=o.apply(e,t||[])).next())}))};let t={},n="";function o(o){return e(this,void 0,void 0,(function*(){return function(e){const t=document.querySelector('input[type="text"], textarea'),o=document.querySelector('div[contenteditable="true"]');if(o){n=e,o.innerHTML=e,o.focus();const t=new Event("input",{bubbles:!0});o.dispatchEvent(t);const i=new KeyboardEvent("keydown",{bubbles:!0,cancelable:!0,key:"Enter",code:"Enter",keyCode:13});o.dispatchEvent(i)}else if(t){n=e,t.focus(),t.value=e;const o=new Event("input",{bubbles:!0});t.dispatchEvent(o);const i=new KeyboardEvent("keydown",{bubbles:!0,cancelable:!0,key:"Enter",code:"Enter",keyCode:13});t.dispatchEvent(i)}else console.error("Input field or rich text editor not found.")}(o),yield function(o,i=2e4){return e(this,void 0,void 0,(function*(){const s=Date.now(),r=window.location.href,c=new URL(r).origin;let l="";switch(c){case"https://chatgpt.com":l="div.agent-turn";break;case"https://claude.ai":l="div.font-claude-message";break;case"https://gemini.google.com":l="message-content.model-response-text";break;default:throw new Error("Invalid website specified")}const a=Array.from(document.querySelectorAll(l));let d="";const u=()=>e(this,void 0,void 0,(function*(){var e;const r=Date.now(),c=Array.from(document.querySelectorAll(l)).filter((e=>{var t;return!(null===(t=e.textContent)||void 0===t?void 0:t.includes(n))&&!a.includes(e)}));if(c.length>0){const n=(null===(e=c[c.length-1].textContent)||void 0===e?void 0:e.trim())||"";n.length>d.length?(d=n,yield new Promise((e=>setTimeout(e,1e3))),yield u()):(console.log("Final response:",d),d&&(t[o]=d))}else r-s<i?(yield new Promise((e=>setTimeout(e,1e3))),yield u()):console.error("Response not found within the max wait time.")}));return yield new Promise((e=>setTimeout(e,2e3))),yield u(),d}))}(o)}))}chrome.runtime.onMessage.addListener(((t,n,i)=>e(void 0,void 0,void 0,(function*(){if("typeMessages"===t.action){let e=[];for(let n=0;n<t.messages.length;n++){const i=t.messages[n],s=yield o(i);e.push(s),n<t.messages.length-1&&(yield new Promise((e=>setTimeout(e,2e3))))}i({status:"Messages typed and responses received",responses:e})}else console.error("Unknown action:",t.action)}))))}})[481]()})();